<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p th:text="${msg}"></p>
<form th:action="@{/seller/all-orders}" method="get" th:object="${sellerSearchOrderDto}">

    <label>
        Email khách hàng<input type="text" th:field="*{customerEmail}"/>
    </label>

    <label>
        Từ ngày<input type="date" th:field="*{fromDate}"/>
    </label>

    <label>
        Đến ngày<input type="date" th:field="*{toDate}"/>
    </label>

    <label>
        Trạng thái đơn hàng
        <select th:field="*{statusId}" onchange="this.form.submit()">
            <option th:value="0">Tất cả</option>
            <option th:each="orderType : ${orderStatus}"
                    th:value="${orderType.id}"
                    th:text="${orderType.name}">
            </option>
        </select>
    </label>

    <button type="submit">Tìm kiếm</button>
</form>
<table>
    <tr>
        <th>Mã đơn hàng</th>
        <th>Email khách hàng</th>
        <th>Thời gian đặt hàng</th>
        <th>Trạng thái</th>
    </tr>
    <tr th:each="order : ${orders}">
        <td th:text="${order.id}"></td>
        <td th:text="${order.customer.email}"></td>
        <td th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}"></td>
        <td th:text="${order.orderStatus.name}"></td>
        <td><a th:href="@{'/seller/order-detail/'+${order.id}}">Chi tiết đơn hàng</a></td>
    </tr>
</table>
<form th:action="@{/seller/all-orders}" method="get" th:object="${sellerSearchOrderDto}">
    <input type="hidden" th:field="*{statusId}"/>
    <input type="hidden" th:field="*{customerEmail}"/>
    <input type="hidden" th:field="*{fromDate}"/>
    <input type="hidden" th:field="*{toDate}"/>

    <button th:if="${orders.hasPrevious()}"
            type="submit"
            name="page" th:value="${orders.number - 1}">Prev</button>

    <span th:text="${orders.number + 1} + ' / ' + ${orders.totalPages}"></span>

    <button th:if="${orders.hasNext()}"
            type="submit"
            name="page" th:value="${orders.number + 1}">Next</button>
</form>

</body>
</html>